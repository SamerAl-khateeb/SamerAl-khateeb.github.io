<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title> Modified version of Pulling Images onto the Page with title showing when the mouse hoover over the picture </title>

<style type = "text/css">
   li { display: inline-block; padding: 4px; width: 120px; }
   img { border: 1px solid black }
   .box { border: 1px solid black; padding: 10px }
</style>

<script>
   var asyncRequest;

   function getImages( url )
   {
      try
      {
         asyncRequest = new XMLHttpRequest();
         asyncRequest.addEventListener(
            "readystatechange", processResponse, false); 
         asyncRequest.open( "GET", url, true ); 
         asyncRequest.send( null ); 
      } 
      catch ( exception )
      {
         alert( "Request Failed" );
      } 
   } 
   
  function processResponse()
   {

      if ( asyncRequest.readyState == 4 && asyncRequest.status == 200 && 
         asyncRequest.responseXML )
      {
         clearImages();
    
         var covers = asyncRequest.responseXML.getElementsByTagName(
            "cover" )

         var baseUrl = asyncRequest.responseXML.getElementsByTagName( 
            "baseurl" ).item( 0 ).firstChild.nodeValue;
         
         var output = document.getElementById( "covers" );
         
         var imagesUL = document.createElement( "ul" );
         
         for ( var i = 0; i < covers.length; ++i )
         {
            var cover = covers.item( i );
         
            var image = cover.getElementsByTagName( "image" ).
               item( 0 ).firstChild.nodeValue;
         
		    // get the image Title
            var TIT = cover.getElementsByTagName( "title" ).
               item( 0 ).firstChild.nodeValue;
		 
            var imageLI = document.createElement( "li" );
            var imageTag = document.createElement( "img" );
			imageTag.TIT1 = TIT;
			imageTag.onmouseover = function() { document.getElementById("contentArea").innerHTML = this.TIT1; };
			imageTag.onmouseout = function() { document.getElementById("contentArea").innerHTML = ""; };
            
            imageTag.setAttribute( "src", baseUrl + escape( image ) ); 
            imageLI.appendChild( imageTag ); // place img in li
            imagesUL.appendChild( imageLI ); // place li in ul
         } 

         output.appendChild( imagesUL );
      }
   } 

   function clearImages()
   {
      document.getElementById( "covers" ).innerHTML = ""; 
   } 

function clearContent()
  {
     document.getElementById( "contentArea" ).innerHTML = "";
  } // end function clearContent
   
  
  function registerListeners()
   {  
	  document.getElementById( "all" ).addEventListener(
         "click", function() { getImages( "all.xml" ); }, false ); 
      document.getElementById( "simply" ).addEventListener(
         "click", function() { getImages( "simply.xml" ); }, false ); 
      document.getElementById( "howto" ).addEventListener(
         "click", function() { getImages( "howto.xml" ); }, false ); 
      document.getElementById( "dotnet" ).addEventListener(
         "click", function() { getImages( "dotnet.xml" ); }, false ); 
      document.getElementById( "javaccpp" ).addEventListener(
         "click", function() { getImages( "javaccpp.xml" ); }, false ); 
      document.getElementById( "none" ).addEventListener(
         "click", clearImages, false ); 
   } // end function registerListeners

   window.addEventListener( "load", registerListeners, false );
   </script>
</head>

<body>
   <h1>Move Mouse Over the Book Cover Picture to see the Book Title.</h1>
   <input type = "radio" name ="Books" value = "all" 
      id = "all"> All Books 
   <input type = "radio" name = "Books" value = "simply" 
      id = "simply"> Simply Books 
   <input type = "radio" name = "Books" value = "howto" 
      id = "howto"> How to Program Books 
   <input type = "radio" name = "Books" value = "dotnet" 
      id = "dotnet"> .NET Books 
   <input type = "radio" name = "Books" value = "javaccpp"
      id = "javaccpp"> Java/C/C++ Books
   <input type = "radio" checked name = "Books" value = "none"
      id = "none"> None 
   <div id = "covers"></div>
   <div class = "box" id = "contentArea"></div>
</body>

</html>
